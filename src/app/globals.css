@import "tailwindcss";

/* Optional: define custom theme tokens */
@theme {
  --color-card-shadow: #000;
  /* NEW: Added a variable for error color for consistency */
  --color-error: #ef4444; /* red-500 */
}

/* Base styles */
@layer base {
  body {
    background-color: var(--theme-bgPrimary, #f9fafb);
    color: var(--theme-textPrimary, #000);
    transition: background-color 0.3s ease, color 0.3s ease;
  }
}

/* Components */
@layer components {
  /* Card */
  .card {
    background-color: var(--theme-bgCard, #fff);
    color: var(--theme-textPrimary, #000);
    border: 2px solid var(--theme-border, #000);
    padding: 1.5rem;
    box-shadow: 8px 8px 0px var(--theme-shadow, #000);
    border-radius: 4px 5px 3px 6px; /* Imperfect radius */
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
  }

  /* Button */
  .btn {
    background-color: var(--theme-btnPrimaryBg, #000);
    color: var(--theme-btnPrimaryText, #fff);
    font-weight: bold;
    border: 2px solid var(--theme-border, #000);
    padding: 0.5rem 1.25rem;
    transition: all 0.2s ease;
    cursor: pointer;
    border-radius: 5px 4px 6px 3px; /* Imperfect radius */
  }
  .btn:hover {
    background-color: var(--theme-btnPrimaryHoverBg, #fff);
    color: var(--theme-btnPrimaryHoverText, #000);
    transform: translate(-2px, -2px);
    box-shadow: 4px 4px 0px var(--theme-shadow, #000);
  }
  .btn:disabled {
    @apply bg-gray-300 border-gray-300 text-gray-500 cursor-not-allowed;
    transform: none;
    box-shadow: none;
  }

  /* Secondary Button */
  .btn-secondary {
    background-color: var(--theme-btnSecondaryBg, #fff);
    color: var(--theme-btnSecondaryText, #000);
    font-weight: bold;
    border: 2px solid var(--theme-border, #000);
    padding: 0.5rem 1.25rem;
    transition: all 0.2s ease;
    cursor: pointer;
    border-radius: 5px 4px 6px 3px; /* Imperfect radius */
  }
  .btn-secondary:hover {
    background-color: var(--theme-btnSecondaryHoverBg, #f3f4f6);
    transform: translate(-2px, -2px);
    box-shadow: 4px 4px 0px var(--theme-shadow, #000);
  }
  .btn-secondary:disabled {
    @apply bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed;
    transform: none;
    box-shadow: none;
  }

  /* Input */
  .input {
    background-color: var(--theme-inputBg, #fff);
    color: var(--theme-textPrimary, #000);
    width: 100%;
    border: 2px solid var(--theme-inputBorder, #000);
    padding: 0.5rem;
    transition: all 0.2s ease;
    border-radius: 3px 5px 4px 4px; /* Imperfect radius */
  }
  .input:focus {
    outline: none;
    transform: translate(-1px, -1px);
    box-shadow: 2px 2px 0px var(--theme-inputFocusShadow, #000);
  }

  /* NEW: Error state for inputs, matching your theme */
  .input-error {
    border-color: var(--theme-error, #ef4444);
  }
  .input-error:focus {
    /* The focus shadow now becomes red to indicate the error */
    box-shadow: 2px 2px 0px var(--theme-error, #ef4444);
  }

  /* Highlight */
  .highlight {
    /* Lifts the card above other content */
    position: relative;
    z-index: 10;
    /* Points to our new, more dramatic animation */
    animation: spotlight 3.5s ease-in-out;
  }

  /* Hide scrollbar for mobile tabs */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }
}

/* Your animations can remain as they are */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes spotlight {
  /* Start with just the card's normal shadow */
  0% {
    box-shadow: 8px 8px 0px var(--theme-shadow, #000), 0 0 0 0 rgba(0, 0, 0, 0);
  }
  /* At 20%, fade in the dark overlay. It stays until 80% */
  20%, 80% {
    box-shadow: 8px 8px 0px var(--theme-shadow, #000), 0 0 0 200vmax rgba(0, 0, 0, 0.6);
  }
  /* At 100%, fade the overlay out, returning to normal */
  100% {
    box-shadow: 8px 8px 0px var(--theme-shadow, #000), 0 0 0 0 rgba(0, 0, 0, 0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.5s ease-out forwards;
}

.animate-fadeIn {
  animation: fadeIn 0.6s ease-out forwards;
}
